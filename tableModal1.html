<!DOCTYPE html>
<html lang="en">
<head>
  <title>Bootstrap Example</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
<link href="/tmdModel/JQuery/bootstrap.min.css" rel="stylesheet">

    
<script src="/tmdModel/JQuery/jquery-3.3.1.min.js"></script>
<script src="/tmdModel/JQuery/bootstrap.min.js"></script>
<script>
var tableValues=[];

function createRow(textValues)
{
var InnerTable=document.getElementById('innerTable');
var rows=InnerTable.getElementsByTagName("tr");
var columns=rows[0].getElementsByTagName("td");
tableValues[rows.length-2]=textValues;
 var newRow = InnerTable.insertRow(rows.length-1);
var cell=newRow.insertCell(0);
cell.innerHTML="   "+rows.length-2+". ";
for(var i=0,g=1;i<textValues.length;i++,g++)
{
 cell = newRow.insertCell(g);
if(g==1)
{
cell.ondblclick = function () 
{
if(this.childElementCount<1)
{
var img = document.createElement('img');
img.src = '/tmdModel/images/key.png';
this.appendChild(img);
}
}
}

 cell.innerHTML = textValues[i];
}

$('#fieldText').val(" ");
$("#typeText").val(" ");
$("#constraintText").val(" ");
$('#defaultText').val(" ");
$('#sNo').text(rows.length-1+".");
}
function addRow()
{

var fieldText=$('#fieldText');
var typeText=$("#typeText");
var constraintText=$("#constraintText");
var defaultText=$('#defaultText');
var isFocus;
if(!fieldText.val().trim())
{
fieldText.addClass("is-invalid");
if(!isFocus) fieldText.focus();
isFocus=true;
}
else
{
fieldText.removeClass("is-invalid");
}
if(!typeText.val().trim())
{
typeText.addClass("is-invalid");
if(!isFocus)typeText.focus();
isFocus=true;
}
else
{
typeText.removeClass("is-invalid");
}
if(!constraintText.val().trim())
{
constraintText.addClass("is-invalid");
if(!isFocus)constraintText.focus();
isFocus=true;
}
else
{
constraintText.removeClass("is-invalid");
}
if(!defaultText.val().trim())
{
defaultText.addClass("is-invalid");
if(!isFocus)defaultText.focus();
isFocus=true;
}
else
{
defaultText.removeClass("is-invalid");
}


if(!isFocus)
{
var textValues=[];
textValues[0]=fieldText.val().trim();
textValues[1]=typeText.val().trim();
textValues[2]=constraintText.val().trim();
textValues[3]=defaultText.val().trim();
createRow(textValues);
}

}

</script>

</head>
<body>
<h2>Table Options</h2>
<a class="nav-link"  data-toggle="modal" data-target="#table">
<span>Table Name</span>
</a>


<!-- Modal -->
<div class="modal fade" id="table" role="dialog" data-backdrop='static' >
<div class="modal-dialog " style="width:100%;">
<div class="modal-content">
<div class="modal-header">
<h4 class="modal-title">Table Options</h4>          
<button type="button" class="close">&times;</button>

<div class="form-group">
 
<div class='form-row'>
<div class="form-label-group">
                
<input type="text" id='tableNameText' class="form-control" placeholder="Table Name"   required="required"   autofocus="autofocus">
                
<label for="tableNameText"></label>
              
</div>
            
</div>
</div>
</div>

<div class="modal-body" >
<table border='1'>
<tr>
<td><h3>&nbsp;&nbsp;Table&nbsp;&nbsp;</h3></td>
<td><h3>&nbsp;&nbsp;Attributes&nbsp;&nbsp;</h3>
<table border='1' id='innerTable'>
<thead>
<tr>
<td><h4>&nbsp;&nbsp;S.no&nbsp;&nbsp;</h4></td>
<td><h4>&nbsp;&nbsp;Fields&nbsp;&nbsp;</h4></td>
<td><h4>&nbsp;&nbsp;Type&nbsp;&nbsp;</h4></td>
<td><h4>&nbsp;&nbsp;Constraint&nbsp;&nbsp;</h4></td>
<td><h4>&nbsp;&nbsp;Default&nbsp;&nbsp;</h4></td>
<td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
</tr>
<tr>
<td><span id='sNo'>&nbsp;&nbsp;1. </span></td>
<td><input type='text' id='fieldText'></td>
<td><input type='text' id='typeText'></td>
<td><input type='text' id='constraintText'></td>
<td><input type='text' id='defaultText'></td>
<td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
</tr>
</thead>

</table>
</td>
<td></td>

</tr>





</table>
</div>
<div class="modal-footer">
<button type="button" class="btn btn-default"  onclick='addRow()'>Create new Row</button>
<button type="button" class="btn btn-default" >Close</button>
</div>
</div>
</div>
</div>


</body>
</html>
